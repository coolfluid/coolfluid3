#############################################################################
### Global settings
configure //Root/Environment assertion_throws:bool=false assertion_backtrace:bool=false exception_backtrace:bool=false log_level:unsigned=4 regist_signal_handlers:bool=false

#############################################################################
### create model
create HotModel cf3.Solver.CModel
call HotModel/setup solver_builder:string=cf3.UFEM.HeatConductionSteady physics_builder:string=cf3.Physics.DynamicModel

#############################################################################
### Read input
call HotModel/Domain/load_mesh file:uri=file:@UFEM_HEAT_INPUT_MESH@ name:string=Mesh

#############################################################################
### create LSS
create HotModel/LSS cf3.math.LSS.System
configure HotModel/LSS solver:uri=string:Trilinos
configure HotModel/HeatConductionSteady lss:uri=cpath://Root/HotModel/LSS
configure HotModel/LSS/Matrix settings_file:string=@UFEM_LSS_CONFIG_FILE@

#############################################################################
### Create and set boundary conditions
call HotModel/HeatConductionSteady/BoundaryConditions/add_constant_bc region_name:string=inner variable_name:string=Temperature
call HotModel/HeatConductionSteady/BoundaryConditions/add_constant_bc region_name:string=outer variable_name:string=Temperature
configure HotModel/HeatConductionSteady/BoundaryConditions/BCinnerTemperature value:real=10
configure HotModel/HeatConductionSteady/BoundaryConditions/BCouterTemperature value:real=35

#############################################################################
### Run simulation and write the result
call HotModel/simulate

create HotModel/Domain cf3Mesh.VTKXML.Writer
call HotModel/Domain/write_mesh file:uri=file:atest-ufem-heat-steady-output.pvtu
