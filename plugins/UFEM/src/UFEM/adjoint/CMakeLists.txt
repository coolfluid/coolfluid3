coolfluid3_add_library(TARGET coolfluid_ufem_adjoint
  SOURCES
    ActuatorDisk.hpp
    ActuatorDisk.cpp
    ActuatorDiskCt.hpp
    ActuatorDiskCt.cpp
    ActuatorDiskCtAdjoint.hpp
    ActuatorDiskCtAdjoint.cpp
    ActuatorDisk3D.hpp
    ActuatorDisk3D.cpp
    Adjoint.hpp
    Adjoint.cpp
    AdjointCt.cpp
    AdjointCt.hpp
    keAdjointbase.cpp
    keAdjointbase.hpp
    BCAdjointpressurex.hpp
    BCAdjointpressurex.cpp
    BCAdjointpressurexNew.hpp
    BCAdjointpressurexNew.cpp
    BCAdjointpressurey.hpp
    BCAdjointpressurey.cpp
    BCAdjointpressureyNew.hpp
    BCAdjointpressureyNew.cpp
    BCAdjointpressurez.hpp
    BCAdjointpressurez.cpp
    DirectDifferentiation.hpp
    DirectDifferentiation.cpp
    DirectDifferentiationCt.hpp
    DirectDifferentiationCt.cpp
    DirectDifferentiationSensitivityDisk.cpp
    DirectDifferentiationSensitivityDisk.hpp
    keAdjoint.cpp
    keAdjoint.hpp
    keAdjoint2.cpp
    keAdjoint2.hpp
    kaRobinke.cpp
    kaRobinke.hpp
    RobinUt.cpp
    RobinUt.hpp
    LibUFEMAdjoint.hpp
    LibUFEMAdjoint.cpp
  LIBS
    coolfluid_mesh_lagrangep1
    coolfluid_mesh_lagrangep2
    coolfluid_solver_actions
    coolfluid_physics
    coolfluid_mesh
    coolfluid_ufem
  CONDITION  CF3_ENABLE_PROTO)

set_source_files_properties(keAdjoint.cpp PROPERTIES COMPILE_FLAGS "${CMAKE_CXX_FLAGS} -ftemplate-depth=1024")
